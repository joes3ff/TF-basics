command=op

if ! [ -x "$(command -v op)" ]; then
	command="op.exe"
fi

export AWS_ACCESS_KEY_ID="$(${command} item get "Terraform Basics" --fields "Access Key ID")"
export AWS_SECRET_ACCESS_KEY="$(${command} item get "Terraform Basics" --fields "Access Key Secret")"
export AWS_SESSION_TOKEN="$(${command} item get "Terraform Basics" --fields "Session Token")"
export AWS_REGION="$(${command} item get "Terraform Basics" --fields "Region")"

# export ARM_CLIENT_ID="$(${command} item get "Terraform Basics" --fields "Client ID")"
# export ARM_SUBSCRIPTION_ID="$(${command} item get "Terraform Basics" --fields "Subscription ID")"
# export ARM_TENANT_ID="$(${command} item get "Terraform Basics" --fields "Tenant ID")"
# export ARM_CLIENT_SECRET="$(${command} item get "Terraform Basics" --fields "Client Secret")"
echo "$(${command} item get "Github" --fields "public key")" > ~/.ssh/id_rsa.pub
export TF_VAR_ssh_pub_key="~/.ssh/id_rsa.pub"